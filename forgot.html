<!DOCTYPE html>
<html lang="pt-br">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Recuperar senha | Webartec</title>
<link rel="stylesheet" href="static/styles.css"><link rel="stylesheet" href="static/mobile-fixes.css"><link rel="stylesheet" href="static/ui-overrides.css"></head>
<body>
<header><div class="container nav"><div class="brand"><a href="index.html" style="display:flex;align-items:center;gap:10px">
<img src="assets/logo.png" alt="Webartec" style="height:28px"><strong>Webartec</strong></a></div></div></header>
<section class="section"><div class="container">
<h2>Recuperar senha</h2>
<div class="auth-card">
  <form id="f" class="form-grid" style="grid-template-columns:1fr">
    <div><label>E-mail</label><input class="input" type="email" id="email" required></div>
    <button class="btn btn-blue" type="submit">Enviar nova senha</button>
    <p id="msg" class="help"></p>
  </form>
</div></div></section>
<script>
document.getElementById('f').addEventListener('submit', async (ev)=>{
  ev.preventDefault();
  const email = document.getElementById('email').value.trim();
  const r = await fetch('api/auth/forgot.php', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({email})});
  const j = await r.json().catch(()=>({}));
  document.getElementById('msg').textContent = j.ok ? 'Enviamos uma nova senha para seu e-mail.' : (j.error||'Falha');
});
</script>
</body></html>
